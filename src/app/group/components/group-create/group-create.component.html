<div class="page_content" *ngIf="tabSelected | async  as tabSelected">
  <div id="group_create_heading">
    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect width="40" height="40" rx="20" fill="#D7E9F8" />
      <path fill-rule="evenodd" clip-rule="evenodd"
        d="M17.5 19.9993C19.8012 19.9993 21.6667 18.1339 21.6667 15.8327C21.6667 13.5315 19.8012 11.666 17.5 11.666C15.1988 11.666 13.3333 13.5315 13.3333 15.8327C13.3333 18.1339 15.1988 19.9993 17.5 19.9993Z"
        fill="#1168A8" />
      <path fill-rule="evenodd" clip-rule="evenodd"
        d="M25 15.8327C25 14.1513 23.6424 13.3327 22.5 13.3327V11.666C24.291 11.666 26.6667 12.9807 26.6667 15.8327C26.6667 18.6847 24.291 19.9993 22.5 19.9993V18.3327C23.6424 18.3327 25 17.514 25 15.8327Z"
        fill="#1168A8" />
      <path fill-rule="evenodd" clip-rule="evenodd"
        d="M23.3333 20.834H24.1667C26.0076 20.834 27.5 22.3264 27.5 24.1673V28.334H25.8333V24.1673C25.8333 23.2468 25.0872 22.5007 24.1667 22.5007H23.3333V20.834Z"
        fill="#1168A8" />
      <path fill-rule="evenodd" clip-rule="evenodd"
        d="M12.5 24.1673C12.5 22.3264 13.9924 20.834 15.8333 20.834H19.1667C21.0076 20.834 22.5 22.3264 22.5 24.1673V28.334H12.5V24.1673Z"
        fill="#1168A8" />
    </svg>
    <h3 translate="VIEWS.GROUP_CREATE.HEADING"></h3>
  </div>
  <div id="group_create_tabs">
    <a class="group_create_tab" translate="VIEWS.GROUP_CREATE.CREATE_TAB_1"
      [ngClass]="tabSelected=== 'info' ? 'active' : ''" (click)="selectTab('info')"></a>
    <a class="group_create_tab" translate="VIEWS.GROUP_CREATE.CREATE_TAB_2"
      [ngClass]="tabSelected=== 'settings' ? 'active' : ''" (click)="selectTab('settings')"></a>
    <a class="group_create_tab" translate="VIEWS.GROUP_CREATE.CREATE_TAB_3"
      [ngClass]="tabSelected=== 'add_topics' ? 'active' : ''" (click)="selectTab('add_topics')"></a>
    <a class="group_create_tab" translate="VIEWS.GROUP_CREATE.CREATE_TAB_4"
      [ngClass]="tabSelected=== 'invite' ? 'active' : ''" (click)="selectTab('invite')"></a>
  </div>

  <div id="group_create_content_wrap">
    <div id="group_form_area">
      <ng-container *ngIf="tabSelected==='info'">
        <div id="group_create_content">
          <div class="number_wrap">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="16" height="16" rx="8" fill="white" />
              <path
                d="M12.6558 9.32812C11.2233 8.52002 9.79067 7.71195 8.35815 6.90385C8.47123 7.10587 8.5843 7.30788 8.71632 7.4916V7.47328C8.71632 7.2345 8.58432 6.99582 8.35815 6.88553C6.92564 6.07743 5.49303 5.26936 4.06051 4.46126C3.26884 4.02046 2.55253 5.21426 3.3442 5.65493C4.77672 6.46303 6.20933 7.2711 7.64185 8.0792C7.52877 7.87718 7.41569 7.67517 7.28368 7.49145V7.50977C7.28368 7.74856 7.41569 7.98723 7.64185 8.09752C9.07436 8.90563 10.507 9.71369 11.9395 10.5218C12.7312 10.9626 13.4475 9.76892 12.6558 9.32812Z"
                fill="#EF4025" />
              <path
                d="M8.71632 7.4916L8.71634 2.66112C8.71634 1.77963 7.30264 1.77963 7.30264 2.66112V7.49117C7.30264 8.3728 8.71632 8.37323 8.71632 7.4916Z"
                fill="#EF4025" />
              <path
                d="M8.71627 12.3388V7.50873C8.71627 6.62723 7.30257 6.62723 7.30257 7.50873V12.3388C7.30257 13.2204 8.71627 13.2204 8.71627 12.3388Z"
                fill="#EF4025" />
              <path
                d="M4.06051 10.5208C6.92563 8.90464 9.7907 7.28856 12.6558 5.69076C13.4475 5.24996 12.7311 4.05625 11.9395 4.49708C9.07435 6.11326 6.20929 7.72933 3.3442 9.32714C2.55253 9.76783 3.26886 10.9615 4.06051 10.5208Z"
                fill="#EF4025" />
            </svg>
            <div>1</div>
          </div>
          <div id="create_form_wrap">
            <h3 translate="VIEWS.GROUP_CREATE.INFO_SETTINGS_HEADING_GENERAL_INFO"></h3>
            <div translate="VIEWS.GROUP_CREATE.INFO_SETTINGS_INPUT_NAME_DESC"></div>
            <cos-input placeholder="{{'VIEWS.GROUP_CREATE.INFO_SETTINGS_INPUT_NAME' | translate}}">
              <input id="groupName" [placeholder]="'VIEWS.GROUP_CREATE.INFO_SETTINGS_INPUT_NAME' | translate"
                [(ngModel)]="group.name" [ngClass]="{'error_input': errors?.name}">
              <label for="groupName" class="error_label" *ngIf="errors?.name">
                <div class="table_cell">
                  <div class="icon_notification_error_small"></div>
                  <span translate="{{errors?.name}}"></span>
                </div>
              </label>
            </cos-input>
            <div translate="VIEWS.GROUP_CREATE.INFO_SETTINGS_INPUT_DESCRIPTION_DESC"></div>
            <cos-input placeholder="{{'VIEWS.GROUP_CREATE.INFO_SETTINGS_INPUT_DESCRIPTION' | translate}}">
              <textarea id="groupDescription"
                [placeholder]="'VIEWS.GROUP_CREATE.INFO_SETTINGS_INPUT_DESCRIPTION' | translate" rows="5"
                [(ngModel)]="group.description" [ngClass]="{'error_input': errors?.description}"
                [maxlength]="250"></textarea>
              <label for="groupDescription" class="error_label" *ngIf="errors?.description">
                <div class="table_cell">
                  <div class="icon_notification_error_small"></div>
                  <span translate="{{errors?.description}}"></span>
                </div>
              </label>
            </cos-input>
            <div translate="VIEWS.GROUP_CREATE.INFO_SETTINGS_CHOOSE_IMAGE_DESC">Add a group description (max 250
              characters)
            </div>
            <div id="image_input_area" dragndrop (fileDropped)="fileDroped($event)"
              *ngIf="!group.imageUrl && !tmpImageUrl">
              <div class="bold" translate="VIEWS.GROUP_CREATE.INFO_SETTINGS_LBL_DROP_IMAGE"></div>
              <input type="file" #imageUpload (change)="fileUpload()" />
              <button class="btn_big_secondary" (click)="uploadImage()"
                translate="VIEWS.GROUP_CREATE.INFO_SETTINGS_BTN_CHOOSE_IMAGE"></button>
            </div>
            <div id="image_area" *ngIf="group.imageUrl || tmpImageUrl">
              <div id="image_wrap">
                <img [src]="group.imageUrl || tmpImageUrl" />
              </div>
              <a class="icon_link" (click)="deleteGroupImage()">
                <span class="bold">Remove</span>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M9 9H11V17H9L9 9Z" fill="#1168A8" />
                  <path d="M15 9H13V17H15V9Z" fill="#1168A8" />
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M17 5V4C17 2.89543 16.1046 2 15 2L9 2C7.89543 2 7 2.89543 7 4L7 5H4C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H5L5 18C5 19.6569 6.34315 21 8 21L16 21C17.6569 21 19 19.6569 19 18L19 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5L17 5ZM15 4L9 4V5L15 5V4ZM17 7L7 7L7 18C7 18.5523 7.44772 19 8 19L16 19C16.5523 19 17 18.5523 17 18V7Z"
                    fill="#1168A8" />
                </svg>
              </a>
            </div>
          </div>
        </div>
        <div id="group_create_content">
          <div class="number_wrap">
            <div>2</div>
          </div>
          <div id="create_form_wrap">
            <h3 translate="VIEWS.GROUP_CREATE.INFO_SETTINGS_HEADING_CONTACT_EMAIL"></h3>
            <div translate="VIEWS.GROUP_CREATE.INFO_SETTINGS_INPUT_CONTACT_EMAIL_DESC"></div>
            <cos-input placeholder="{{'VIEWS.GROUP_CREATE.INFO_SETTINGS_INPUT_CONTACT_EMAIL' | translate}}">
              <input id="groupName" [placeholder]="'VIEWS.GROUP_CREATE.INFO_SETTINGS_INPUT_CONTACT_EMAIL' | translate"
                [(ngModel)]="group.name" [ngClass]="{'error_input': errors?.name}">
              <label for="groupName" class="error_label" *ngIf="errors?.name">
                <div class="table_cell">
                  <div class="icon_notification_error_small"></div>
                  <span translate="{{errors?.name}}"></span>
                </div>
              </label>
            </cos-input>
          </div>
        </div>
        <div id="group_create_content">
          <div class="number_wrap">
            <div>3</div>
          </div>
          <div id="create_form_wrap">
            <h3 translate="VIEWS.GROUP_CREATE.INFO_SETTINGS_HEADING_RULES_OF_CONDUCT"></h3>
            <div translate="VIEWS.GROUP_CREATE.INFO_SETTINGS_RULES_OF_CONDUCT_DESC"></div>

            <cos-input class="rule_input"
              placeholder="{{'VIEWS.GROUP_CREATE.INFO_SETTINGS_RULES_OF_CONDUCT_RULE' | translate:{number: index+1} }}"
              *ngFor="let rule of rulesOfConduct; let index = index">
              <input
                [placeholder]="'VIEWS.GROUP_CREATE.INFO_SETTINGS_RULES_OF_CONDUCT_RULE' | translate: {number: index+1}"
                [(ngModel)]="rule.rule">
              <button (click)="removeRule(index)">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6 6.00065H7.33333L7.33333 11.334H6L6 6.00065Z" fill="#2C3B47" />
                  <path d="M10 6.00065H8.66667L8.66667 11.334H10L10 6.00065Z" fill="#2C3B47" />
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M11.3333 3.33398V2.66732C11.3333 1.93094 10.7364 1.33398 10 1.33398L6 1.33398C5.26362 1.33398 4.66667 1.93094 4.66667 2.66732V3.33398L2.66667 3.33398C2.29848 3.33398 2 3.63246 2 4.00065C2 4.36884 2.29848 4.66732 2.66667 4.66732H3.33333L3.33333 12.0007C3.33333 13.1053 4.22877 14.0007 5.33333 14.0007L10.6667 14.0007C11.7713 14.0007 12.6667 13.1053 12.6667 12.0007L12.6667 4.66732H13.3333C13.7015 4.66732 14 4.36884 14 4.00065C14 3.63246 13.7015 3.33398 13.3333 3.33398H11.3333ZM10 2.66732L6 2.66732V3.33398L10 3.33398V2.66732ZM11.3333 4.66732L4.66667 4.66732L4.66667 12.0007C4.66667 12.3689 4.96515 12.6673 5.33333 12.6673L10.6667 12.6673C11.0349 12.6673 11.3333 12.3689 11.3333 12.0007L11.3333 4.66732Z"
                    fill="#2C3B47" />
                </svg>
              </button>
            </cos-input>
            <button class="btn_big_secondary add_rule" (click)="addRule()">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M12 20C11.4711 20 11.0423 19.5712 11.0423 19.0423L11.0423 12.9577L4.95775 12.9577C4.4288 12.9577 4 12.5289 4 12C4 11.4711 4.4288 11.0423 4.95775 11.0423H11.0423V4.95775C11.0423 4.4288 11.4711 4 12 4C12.5289 4 12.9577 4.4288 12.9577 4.95775L12.9577 11.0423L19.0423 11.0423C19.5712 11.0423 20 11.4711 20 12C20 12.5289 19.5712 12.9577 19.0423 12.9577H12.9577V19.0423C12.9577 19.5712 12.5289 20 12 20Z"
                  fill="#1168A8" />
              </svg>
              <span>Add a new rule </span>
            </button>
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="tabSelected==='settings'">
        <div id="group_create_content">
          <div class="number_wrap">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <rect width="16" height="16" rx="8" fill="white" />
              <path
                d="M12.6558 9.32812C11.2233 8.52002 9.79067 7.71195 8.35815 6.90385C8.47123 7.10587 8.5843 7.30788 8.71632 7.4916V7.47328C8.71632 7.2345 8.58432 6.99582 8.35815 6.88553C6.92564 6.07743 5.49303 5.26936 4.06051 4.46126C3.26884 4.02046 2.55253 5.21426 3.3442 5.65493C4.77672 6.46303 6.20933 7.2711 7.64185 8.0792C7.52877 7.87718 7.41569 7.67517 7.28368 7.49145V7.50977C7.28368 7.74856 7.41569 7.98723 7.64185 8.09752C9.07436 8.90563 10.507 9.71369 11.9395 10.5218C12.7312 10.9626 13.4475 9.76892 12.6558 9.32812Z"
                fill="#EF4025" />
              <path
                d="M8.71632 7.4916L8.71634 2.66112C8.71634 1.77963 7.30264 1.77963 7.30264 2.66112V7.49117C7.30264 8.3728 8.71632 8.37323 8.71632 7.4916Z"
                fill="#EF4025" />
              <path
                d="M8.71627 12.3388V7.50873C8.71627 6.62723 7.30257 6.62723 7.30257 7.50873V12.3388C7.30257 13.2204 8.71627 13.2204 8.71627 12.3388Z"
                fill="#EF4025" />
              <path
                d="M4.06051 10.5208C6.92563 8.90464 9.7907 7.28856 12.6558 5.69076C13.4475 5.24996 12.7311 4.05625 11.9395 4.49708C9.07435 6.11326 6.20929 7.72933 3.3442 9.32714C2.55253 9.76783 3.26886 10.9615 4.06051 10.5208Z"
                fill="#EF4025" />
            </svg>
            <div>1</div>
          </div>
          <div id="create_form_wrap">
            <h3 translate="VIEWS.GROUP_CREATE.SETTINGS_HEADING_VISIBILITY"></h3>
            <div translate="VIEWS.GROUP_CREATE.SETTINGS_VISIBILITY_DESC"></div>

            <div class="row_wrap">
              <div class="radio_wrap" (click)="group.visibility = VISIBILITY.private"
                [ngClass]="{'active': group.visibility === VISIBILITY.private}">
                <div class="radio_text_wrap">
                  <div class="radio_lable_wrap">
                    <label class="radio_box">
                      <input type="radio" [checked]="group.visibility === VISIBILITY.private" name="contrast"
                        value="default">
                      <span class="radio"></span>
                      <div class="radio_lable" translate="VIEWS.GROUP_CREATE.SETTINGS_VISIBILITY_PRIVATE">
                      </div>
                    </label>
                  </div>
                  <div class="radio_description" translate="VIEWS.GROUP_CREATE.SETTINGS_VISIBILITY_PRIVATE_DESC"></div>
                </div>
                <div class="radio_icon">
                  <div class="icon_contrast_default"></div>
                </div>
              </div>
              <div class="radio_wrap" (click)="group.visibility = VISIBILITY.public"
                [ngClass]="{'active': group.visibility === VISIBILITY.public}">
                <div class="radio_text_wrap">
                  <div class="radio_lable_wrap">
                    <label class="radio_box">
                      <input type="radio" [checked]="group.visibility == VISIBILITY.public" name="contrast"
                        value="default">
                      <span class="radio"></span>
                      <div class="radio_lable" translate="VIEWS.GROUP_CREATE.SETTINGS_VISIBILITY_PUBLIC">
                      </div>
                    </label>
                  </div>
                  <div class="radio_description" translate="VIEWS.GROUP_CREATE.SETTINGS_VISIBILITY_PUBLIC_DESC"></div>
                </div>
                <div class="radio_icon">
                  <div class="icon_contrast_default"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="group_create_content">
          <div class="number_wrap">
            <div>2</div>
          </div>
          <div id="create_form_wrap">
            <h3 translate="VIEWS.GROUP_CREATE.SETTINGS_HEADING_CATEGORY_AND_LOCALITY"></h3>
            <div translate="VIEWS.GROUP_CREATE.SETTINGS_CATEGORY_SELECT_DESC"></div>
            <div class="dropdown" [cosDropdown]>
              <div class="selection">
                <div class="selected_item" translate="VIEWS.GROUP_CREATE.SETTINGS_CATEGORY_SELECT"></div>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M17 10L12 15L7 10" stroke="#727C84" stroke-width="2" stroke-linecap="round" />
                </svg>
              </div>
              <div class="options">
                <div class="option" *ngFor="let category of CATEGORIES" (click)="chooseCategory(category)">
                  {{'TXT_TOPIC_CATEGORY_' + category | uppercase | translate}}
                </div>
              </div>
            </div>
            <div id="group_category_selection">
              <div class="group_category_item" *ngFor="let category of groupcategories"
                (click)="chooseCategory(category)">
                <span>{{'TXT_TOPIC_CATEGORY_' + category | uppercase | translate}}</span>
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M4.47132 3.52925C4.21097 3.2689 3.78886 3.2689 3.52851 3.52925C3.26816 3.7896 3.26816 4.21171 3.52851 4.47206L7.05711 8.00065L3.52851 11.5292C3.26816 11.7896 3.26816 12.2117 3.52851 12.4721C3.78886 12.7324 4.21097 12.7324 4.47132 12.4721L7.99992 8.94346L11.5285 12.4721C11.7889 12.7324 12.211 12.7324 12.4713 12.4721C12.7317 12.2117 12.7317 11.7896 12.4713 11.5292L8.94273 8.00065L12.4713 4.47206C12.7317 4.21171 12.7317 3.7896 12.4713 3.52925C12.211 3.2689 11.7889 3.2689 11.5285 3.52925L7.99992 7.05784L4.47132 3.52925Z"
                    fill="#2C3B47" />
                </svg>

              </div>
            </div>
            <h3 translate="VIEWS.GROUP_CREATE.SETTINGS_HEADING_LOCALITY"></h3>
            <div translate="VIEWS.GROUP_CREATE.SETTINGS_LOCALITY_SELECT_DESC"></div>
            <div class="row_wrap">
              <div class="dropdown" [cosDropdown]>
                <div class="selection">
                  <div class="selected_item" translate="VIEWS.GROUP_CREATE.SETTINGS_COUNTRY_SELECT"></div>
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17 10L12 15L7 10" stroke="#727C84" stroke-width="2" stroke-linecap="round" />
                  </svg>
                </div>
                <div class="options">
                  <div class="option" *ngFor="let category of CATEGORIES" (click)="chooseCategory(category)">
                    {{'TXT_TOPIC_CATEGORY_' + category | uppercase | translate}}
                  </div>
                </div>
              </div>
              <div class="dropdown" [cosDropdown]>
                <div class="selection">
                  <div class="selected_item">
                    <span *ngIf="!grouplanguage" translate="VIEWS.GROUP_CREATE.SETTINGS_LANGUAGE_SELECT"></span>
                    <span *ngIf="grouplanguage">{{grouplanguage}}</span>
                  </div>
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17 10L12 15L7 10" stroke="#727C84" stroke-width="2" stroke-linecap="round" />
                  </svg>
                </div>
                <div class="options">
                  <div class="option" *ngFor="let language of languages$ | keyvalue;"
                    (click)="grouplanguage = language.value">
                    {{language.value}}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="tabSelected==='add_topics'">
        <div id="group_create_content">
          <div id="create_form_wrap">
            <h3 translate="VIEWS.GROUP_CREATE.ADD_TOPICS_HEADING"></h3>
            <div translate="VIEWS.GROUP_CREATE.ADD_TOPICS_DESC"></div>
            <div [cosDropdown] [ngClass]="{search_with_dropdown : resultCount, dropdown_active : resultCount}">
              <!--[items]="searchResults$ | async"-->
              <typeahead class="searchbox_with_icon_and_text auto-complete"
                [term]="searchStringTopic" (search)="search($event)" (select)="addGroupMemberTopic($event)" (enterAction)="addGroupMemberTopic($event)"
                [placeholder]="'MODALS.GROUP_CREATE_SETTINGS_PLACEHOLDER_SEARCH_TOPIC' | translate">
                <div class="search_icon">
                  <div class="table_cell">
                    <div class="sprite sprite-icon-search-gray-2x"></div>
                  </div>
                </div>
                <div class="search_text">
                  <div class="table_cell blue_link" translate="MODALS.GROUP_CREATE_SETTINGS_TXT_PRESS_ENTER_TO_ADD"></div>
                </div>
                <ng-container *ngIf="searchResults$ | async as searchResults">
                  <div class="search_area_wrap" [ngClass]="{hidden: !searchResults.length}">
                    <div class="search_dropdown_area">
                      <div class="search_dropdown_item" [typeaheadItem]="topic" *ngFor="let topic of searchResults">
                        <div class="table_cell search_item_text">
                          <b>{{topic.title}}</b>
                        </div>
                        <div class="table_cell blue_link">
                          <span class="submit_link" (click)="addGroupMemberTopic(topic)"
                            translate="MODALS.GROUP_CREATE_SETTINGS_TXT_PRESS_ENTER_OR_CLICK_TO_ADD"></span>
                        </div>
                      </div>
                    </div>
                  </div>
                </ng-container>
              </typeahead>
            </div>
            <!--div class="input_area">
              <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M14.1922 15.6064C13.0236 16.4816 11.5723 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 11.5723 16.4816 13.0236 15.6064 14.1922L19.7071 18.2929C20.0976 18.6834 20.0976 19.3166 19.7071 19.7071C19.3166 20.0976 18.6834 20.0976 18.2929 19.7071L14.1922 15.6064ZM15 10C15 12.7614 12.7614 15 10 15C7.23858 15 5 12.7614 5 10C5 7.23858 7.23858 5 10 5C12.7614 5 15 7.23858 15 10Z"
                  fill="#727C84" />
              </svg>
              <cos-input placeholder="{{'LAYOUTS.MAIN.PLACEHOLDER_SEARCH_TOPICS_USERS_GROUPS' | translate}}">
                <input type="text" [(ngModel)]="searchInput" (ngModelChange)="doSearch(searchInput)">
              </cos-input>
              <a class="clear_search" (click)="searchInput=''; doSearch(searchInput);" *ngIf="searchInput"
                translate="COMPONENTS.SEARCH.LNK_CLEAR"></a>
            </!--div-->
          </div>
        </div>
      </ng-container>
      <div id="group_create_footer">
        <div id="close_group_create">
          <button class="btn_big_submit_ghost" [routerLink]="['/', translate.currentLang, 'my', 'groups']">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M5.29311 17.2929C4.90258 17.6834 4.90258 18.3166 5.29311 18.7071C5.68363 19.0976 6.3168 19.0976 6.70732 18.7071L12.0002 13.4142L17.2931 18.7071C17.6836 19.0976 18.3168 19.0976 18.7073 18.7071C19.0978 18.3166 19.0978 17.6834 18.7073 17.2929L13.4144 12L18.7073 6.70711C19.0978 6.31658 19.0978 5.68342 18.7073 5.29289C18.3168 4.90237 17.6836 4.90237 17.2931 5.29289L12.0002 10.5858L6.70732 5.29289C6.3168 4.90237 5.68363 4.90237 5.29311 5.29289C4.90258 5.68342 4.90258 6.31658 5.29311 6.70711L10.586 12L5.29311 17.2929Z"
                fill="#2C3B47" />
            </svg>
          </button>
        </div>
        <div id="navigate_group_create">
          <button class="btn_big_submit_ghost" *ngIf="tabSelected !== 'info'" (click)="previousTab(tabSelected)">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M10.4533 17.6874C10.8529 18.1042 11.5009 18.1042 11.9006 17.6874C12.3003 17.2705 12.3003 16.5947 11.9006 16.1779L8.91837 13L19 13C19.5652 13 20 12.5892 20 11.9997C20 11.4103 19.5652 11.0176 19 11.0176L8.91837 11.0176L11.9006 7.8221C12.3003 7.40527 12.3003 6.72945 11.9006 6.31262C11.5009 5.89579 10.8529 5.89579 10.4533 6.31262L5 12L10.4533 17.6874Z"
                fill="#2C3B47" />
            </svg>
          </button>
          <button class="btn_big_submit" translate="VIEWS.GROUP_CREATE.FOOTER_BTN_CONTINUE"
            (click)="nextTab(tabSelected)"></button>
        </div>
      </div>

    </div>
    <div id="group_help_wrap">
      <div id="group_create_help">
        <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect width="80" height="80" rx="16" fill="#F1F7FC" />
          <path
            d="M27.6127 38.6133C27.6127 31.7004 32.4422 26.1133 38.4082 26.1133C44.3741 26.1133 49.2037 31.7004 49.2037 38.6133C49.2037 43.6323 46.6468 47.9883 42.9536 49.977H33.8627C31.9109 48.8028 30.3046 47.1329 29.2068 45.1371C28.1091 43.1413 27.5591 40.8905 27.6127 38.6133Z"
            fill="#E9D519" />
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M31.1841 37.2088L31.1836 37.234C31.1389 39.1331 31.5976 41.0102 32.513 42.6747C33.3368 44.1724 34.504 45.45 35.9155 46.4044H43.8074C46.5051 44.7212 48.4894 41.2881 48.4894 37.1836C48.4894 31.1492 44.3356 26.8265 39.8368 26.8265C35.3379 26.8265 31.1841 31.1491 31.1841 37.1836V37.2088ZM44.3822 48.5473H35.2913C33.3395 47.3731 31.7331 45.7033 30.6354 43.7074C29.5377 41.7116 28.9877 39.4608 29.0413 37.1836C29.0413 30.2707 33.8708 24.6836 39.8368 24.6836C45.8027 24.6836 50.6322 30.2707 50.6322 37.1836C50.6322 42.2026 48.0754 46.5586 44.3822 48.5473Z"
            fill="#2C3B47" />
          <path d="M44.286 48.5723V55.0008H35.0002V48.5723H35.096H44.286Z" fill="#5C9CD0" />
          <path
            d="M34.2512 54.7661V48.5485C34.2428 48.422 34.2616 48.2951 34.3062 48.1765C34.3509 48.0578 34.4203 47.95 34.51 47.8603C34.5997 47.7707 34.7074 47.7012 34.8261 47.6566C34.9448 47.6119 35.0717 47.5932 35.1982 47.6016H44.3838C44.5103 47.5932 44.6372 47.6119 44.7559 47.6566C44.8745 47.7012 44.9823 47.7707 45.072 47.8603C45.1616 47.95 45.2311 48.0578 45.2758 48.1765C45.3204 48.2951 45.3391 48.422 45.3308 48.5485V54.7661C45.3391 54.8926 45.3204 55.0194 45.2758 55.1381C45.2311 55.2568 45.1616 55.3646 45.072 55.4542C44.9823 55.5439 44.8745 55.6134 44.7559 55.658C44.6372 55.7026 44.5103 55.7214 44.3838 55.713H35.1982C34.9528 55.6954 34.7221 55.59 34.5481 55.4161C34.3742 55.2422 34.2688 55.0114 34.2512 54.7661ZM43.4368 49.4955H36.1452V53.8191H43.4368V49.4955Z"
            fill="#2C3B47" />
          <path
            d="M41.2567 49.4005C41.4594 49.3849 41.6543 49.3151 41.8208 49.1985C41.9874 49.0819 42.1196 48.9228 42.2037 48.7377L45.3287 38.2263C45.3679 38.0795 45.3711 37.9254 45.3381 37.777C45.3052 37.6287 45.237 37.4905 45.1393 37.374C45.0563 37.251 44.943 37.1515 44.8103 37.0851C44.6776 37.0188 44.53 36.9878 44.3818 36.9952H39.7321C39.481 36.9952 39.2401 37.095 39.0625 37.2726C38.8849 37.4502 38.7852 37.691 38.7852 37.9422C38.7852 38.1933 38.8849 38.4342 39.0625 38.6118C39.2401 38.7894 39.481 38.8892 39.7321 38.8892H43.0465L40.2056 48.2642C40.1603 48.3821 40.142 48.5086 40.1521 48.6345C40.1622 48.7604 40.2005 48.8824 40.2642 48.9915C40.3278 49.1006 40.4152 49.194 40.5198 49.2648C40.6244 49.3356 40.7436 49.382 40.8685 49.4005H41.2567Z"
            fill="#2C3B47" />
          <path
            d="M38.4167 49.4005H38.7008C38.9262 49.3178 39.1157 49.1591 39.2367 48.9517C39.3577 48.7442 39.4026 48.5011 39.3636 48.2642L36.5227 38.8892H39.8371C40.0883 38.8892 40.3292 38.7894 40.5068 38.6118C40.6843 38.4342 40.7841 38.1933 40.7841 37.9422C40.7841 37.691 40.6843 37.4502 40.5068 37.2726C40.3292 37.095 40.0883 36.9952 39.8371 36.9952H35.197C35.0488 36.9878 34.9012 37.0188 34.7685 37.0851C34.6357 37.1515 34.5224 37.251 34.4394 37.374C34.2878 37.6309 34.2215 37.9293 34.25 38.2263L37.4697 48.8324C37.5584 49.0063 37.6943 49.1518 37.8617 49.2523C38.0292 49.3527 38.2214 49.4041 38.4167 49.4005Z"
            fill="#2C3B47" />
          <path
            d="M39.8387 20.8015C39.9652 20.8099 40.0921 20.7911 40.2108 20.7465C40.3294 20.7018 40.4372 20.6324 40.5269 20.5427C40.6166 20.4531 40.686 20.3453 40.7307 20.2266C40.7753 20.1079 40.794 19.9811 40.7857 19.8545V14.6462C40.7857 14.395 40.6859 14.1542 40.5083 13.9766C40.3307 13.799 40.0898 13.6992 39.8387 13.6992C39.5875 13.6992 39.3467 13.799 39.1691 13.9766C38.9915 14.1542 38.8917 14.395 38.8917 14.6462V19.8545C38.8833 19.9811 38.9021 20.1079 38.9467 20.2266C38.9914 20.3453 39.0608 20.4531 39.1505 20.5427C39.2402 20.6324 39.3479 20.7018 39.4666 20.7465C39.5853 20.7911 39.7122 20.8099 39.8387 20.8015Z"
            fill="#2C3B47" />
          <path
            d="M28.8506 25.3459C28.9751 25.3493 29.0988 25.3256 29.2132 25.2766C29.3276 25.2275 29.4301 25.1543 29.5135 25.0619C29.687 24.8848 29.7842 24.6469 29.7842 24.399C29.7842 24.1511 29.687 23.9131 29.5135 23.7361L25.8203 20.0429C25.638 19.9061 25.4124 19.8397 25.185 19.8559C24.9576 19.8721 24.7437 19.9697 24.5825 20.1309C24.4214 20.2921 24.3237 20.506 24.3076 20.7334C24.2914 20.9607 24.3578 21.1863 24.4946 21.3687L28.1877 25.0619C28.3669 25.2339 28.6025 25.3349 28.8506 25.3459Z"
            fill="#2C3B47" />
          <path
            d="M19.0974 36.3314H24.3057C24.5569 36.3314 24.7977 36.2317 24.9753 36.0541C25.1529 35.8765 25.2527 35.6356 25.2527 35.3845C25.2527 35.1333 25.1529 34.8925 24.9753 34.7149C24.7977 34.5373 24.5569 34.4375 24.3057 34.4375H19.0974C18.8462 34.4375 18.6054 34.5373 18.4278 34.7149C18.2502 34.8925 18.1504 35.1333 18.1504 35.3845C18.1504 35.6356 18.2502 35.8765 18.4278 36.0541C18.6054 36.2317 18.8462 36.3314 19.0974 36.3314Z"
            fill="#2C3B47" />
          <path
            d="M55.2733 36.3314H60.4816C60.7327 36.3314 60.9736 36.2317 61.1512 36.0541C61.3288 35.8765 61.4286 35.6356 61.4286 35.3845C61.4286 35.1333 61.3288 34.8924 61.1512 34.7148C60.9736 34.5373 60.7327 34.4375 60.4816 34.4375H55.2733C55.1467 34.4291 55.0199 34.4479 54.9012 34.4925C54.7825 34.5371 54.6747 34.6066 54.585 34.6963C54.4954 34.7859 54.4259 34.8937 54.3813 35.0124C54.3367 35.1311 54.3179 35.2579 54.3263 35.3845C54.3263 35.6356 54.426 35.8765 54.6036 36.0541C54.7812 36.2317 55.0221 36.3314 55.2733 36.3314Z"
            fill="#2C3B47" />
          <path
            d="M37.3777 58.3256H42.5861C42.8372 58.3256 43.0781 58.2258 43.2557 58.0482C43.4333 57.8706 43.5331 57.6298 43.5331 57.3786C43.5331 57.1274 43.4333 56.8866 43.2557 56.709C43.0781 56.5314 42.8372 56.4316 42.5861 56.4316H37.3777C37.2512 56.4233 37.1244 56.442 37.0057 56.4867C36.887 56.5313 36.7792 56.6007 36.6895 56.6904C36.5999 56.7801 36.5304 56.8878 36.4858 57.0065C36.4412 57.1252 36.4224 57.2521 36.4308 57.3786C36.4308 57.6298 36.5305 57.8706 36.7081 58.0482C36.8857 58.2258 37.1266 58.3256 37.3777 58.3256Z"
            fill="#2C3B47" />
          <path
            d="M38.0921 61.181H41.8719C42.123 61.181 42.3639 61.0813 42.5415 60.9037C42.7191 60.7261 42.8188 60.4852 42.8188 60.2341C42.8188 59.9829 42.7191 59.742 42.5415 59.5645C42.3639 59.3869 42.123 59.2871 41.8719 59.2871H38.0921C37.9656 59.2787 37.8387 59.2975 37.72 59.3421C37.6013 59.3868 37.4936 59.4562 37.4039 59.5459C37.3142 59.6355 37.2448 59.7433 37.2002 59.862C37.1555 59.9807 37.1368 60.1075 37.1451 60.2341C37.1451 60.4852 37.2449 60.7261 37.4225 60.9037C37.6001 61.0813 37.8409 61.181 38.0921 61.181Z"
            fill="#2C3B47" />
          <path
            d="M38.8063 64.0385H41.1575C41.4087 64.0385 41.6495 63.9387 41.8271 63.7611C42.0047 63.5835 42.1045 63.3426 42.1045 63.0915C42.1045 62.8403 42.0047 62.5995 41.8271 62.4219C41.6495 62.2443 41.4087 62.1445 41.1575 62.1445H38.8063C38.6798 62.1361 38.5529 62.1549 38.4343 62.1995C38.3156 62.2442 38.2078 62.3136 38.1181 62.4033C38.0285 62.493 37.959 62.6007 37.9144 62.7194C37.8698 62.8381 37.851 62.965 37.8594 63.0915C37.8594 63.3426 37.9591 63.5835 38.1367 63.7611C38.3143 63.9387 38.5552 64.0385 38.8063 64.0385Z"
            fill="#2C3B47" />
          <path
            d="M50.7274 25.3459C50.8518 25.3493 50.9756 25.3256 51.09 25.2766C51.2044 25.2275 51.3069 25.1543 51.3903 25.0619L55.0835 21.3687C55.2202 21.1863 55.2866 20.9607 55.2705 20.7334C55.2543 20.506 55.1567 20.2921 54.9955 20.1309C54.8343 19.9697 54.6204 19.8721 54.393 19.8559C54.1656 19.8397 53.9401 19.9061 53.7577 20.0429L50.0645 23.7361C49.891 23.9131 49.7938 24.1511 49.7938 24.399C49.7938 24.6469 49.891 24.8848 50.0645 25.0619C50.2437 25.2339 50.4793 25.3349 50.7274 25.3459Z"
            fill="#2C3B47" />
        </svg>
        <div id="help_text_wrap">
          <h3 translate="VIEWS.GROUP_CREATE.HELP_HEADING"></h3>
          <div translate="VIEWS.GROUP_CREATE.HELP_DESCRIPTION"></div>
        </div>
        <a translate="VIEWS.GROUP_CREATE.HELP_LNK_LEARN_MORE"></a>
      </div>
    </div>

  </div>
</div>
<!-- LIGHTBOX SKELETON >
<div id="root_lightbox" class="full_screen">

  <div id="lightbox" class="wide_lightbox with_header_menu">

    <div id="lightbox_wrap">

      <div id="lightbox_header">

        <div id="lightbox_header_text">
          <div class="title" translate="MODALS.GROUP_CREATE_SETTINGS_HEADING_EDIT"></div>
          <div class="title_description" *ngIf="group.name">{{group.name}}</div>
        </div>

        <div id="lightbox_close" class="ngdialog-close" mat-dialog-close>
          <div class="table_cell ngdialog-close">
            <div class="sprite sprite-btn-popup-close2x ngdialog-close">
            </div>
          </div>
        </div>

        <div class="clearer"></div>
      </div>

      <div class="line lightest_line"></div>

      <!-- SETTINGS >
      <div class="lightbox_content settings_section_wrap">

        <div class="lightbox_section">
          <div class="settings_section full_width">
            <div class="settings_cell">
              <div class="setting_title" translate="MODALS.GROUP_CREATE_SETTINGS_LBL_GROUP_NAME"></div>
              <div class="setting_description" translate="MODALS.GROUP_CREATE_SETTINGS_LBL_GROUP_NAME_EXP"></div>

              <input id="groupName" [placeholder]="'MODALS.GROUP_CREATE_SETTINGS_PLACEHOLDER_GROUP_NAME' | translate"
                [(ngModel)]="group.name" [ngClass]="{'error_input': errors?.name}">
              <label for="groupName" class="error_label" *ngIf="errors?.name">
                <div class="table_cell">
                  <div class="icon_notification_error_small"></div>
                  <span translate="{{errors?.name}}"></span>
                </div>
              </label>
            </div>
          </div>

          <div class="line lightest_line"></div>

          <div class="settings_section full_width">
            <div class="settings_cell">
              <div class="setting_title" translate="MODALS.GROUP_CREATE_SETTINGS_LBL_GROUP_DESCRIPTION"></div>
              <div class="setting_description" translate="MODALS.GROUP_CREATE_SETTINGS_LBL_GROUP_DESCRIPTION_EXP"
                [translateParams]="{max: 500}"></div>
              <textarea id="groupDescription"
                [placeholder]="'MODALS.GROUP_CREATE_SETTINGS_PLACEHOLDER_GROUP_DESCRIPTION' | translate"
                [(ngModel)]="group.description" [ngClass]="{'error_input': errors?.description}" [maxlength]="500"></textarea>
              <label for="groupDescription" class="error_label" *ngIf="errors?.description">
                <div class="table_cell">
                  <div class="icon_notification_error_small"></div>
                  <span translate="{{errors?.description}}"></span>
                </div>
              </label>
            </div>
          </div>

          <div class="line lightest_line"></div>

          <div class="settings_section group_image">

            <div class="settings_cell">
              <div class="setting_title" translate="MODALS.GROUP_CREATE_SETTINGS_LBL_GROUP_IMAGE"></div>
              <div class="button_holder">
                <!--cos-file-upload id="group_image_upload" class="image_item"
                  file-item="imageFile"></!--cos-file-upload>
                <input type="file" #imageUpload id="profileImage" class="image_item" (change)="fileUpload()" />
                <div class="gray_button" (click)="uploadImage()"
                  translate="MODALS.GROUP_CREATE_SETTINGS_BTN_UPLOAD_IMAGE"></div>
                <div class="pink_button red_text" *ngIf="group.imageUrl || tmpImageUrl"
                  (click)="deleteGroupImage()"><span>{{imageFile.name ||
                    ('MODALS.GROUP_CREATE_SETTINGS_BTN_REMOVE_IMAGE' | translate)}}</span> <span
                    class="icon icon_delete"></span></div>
              </div>
            </div>
            <div class="clearer"></div>

            <div class="settings_cell profile_image_wrapper">
              <div class="account_picture">
                <img *ngIf="group.imageUrl || tmpImageUrl"
                  [src]="group.imageUrl || tmpImageUrl">
                <div class="profile_image_filler" *ngIf="!group.imageUrl ||  !tmpImageUrl">
                  <cos-initials class="table_cell" *ngIf="group.name" [name]="group.name"></cos-initials>
                  <div class="profile_circle"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="line lightest_line"></div>

          <div class="settings_section">
            <div class="settings_cell">
              <div class="setting_title" translate="MODALS.GROUP_CREATE_SETTINGS_HEADING_GROUP_VISIBILITY"></div>
              <div class="setting_description" translate="MODALS.GROUP_CREATE_SETTINGS_DESC_GROUP_VISIBILITY"></div>
              <div class="radio_input_wrap">
                <label class="checkcontainer">
                  <input type="radio" class="vote_option_radio"
                    (click)="group.visibility = VISIBILITY.private"
                    [checked]="group.visibility === VISIBILITY.private">
                  <span class="option_radio" translate="MODALS.GROUP_CREATE_SETTINGS_LBL_PRIVATE"></span>
                </label>
              </div>
              <div class="radio_input_wrap">
                <label class="checkcontainer">
                  <input type="radio" class="vote_option_radio"
                    (click)="group.visibility = VISIBILITY.public"
                    [checked]="group.visibility === VISIBILITY.public">
                  <span class="option_radio" translate="MODALS.GROUP_CREATE_SETTINGS_LBL_PUBLIC"></span>
                </label>
              </div>
            </div>
          </div>

        </div>

      </div>

      <div class="lightbox_footer">

        <div class="line lightest_line"></div>
        <div class="blue_button_wrap">
          <div class="blue_button" (click)="createGroup()" translate="MODALS.GROUP_CREATE_SETTINGS_BTN_SAVE_GROUP"></div>
        </div>
      </div>
    </div>

  </div>

  <div id="close_lightbox" class="ngdialog-close" mat-dialog-close></div>

</div-->
