<!-- LIGHTBOX SKELETON -->
<div id="root_lightbox">
  <div id="lightbox" class="id_signing">
    <div id="lightbox_wrap">

      <div id="lightbox_header">

        <div id="lightbox_header_text">
          <span translate="MODALS.LOGIN_SMARTID_HEADING"></span>
        </div>

        <div id="lightbox_close" mat-dialog-close>
          <div class="table_cell">
            <div class="sprite sprite-btn-popup-close2x">
            </div>
          </div>
        </div>

      </div>

      <div class="lightbox_content">
        <form name="loginSmartIdForm" novalidate>
          <div class="sign_in_section sid">
            <div class="sprite_big sprite sprite-smart-i-d2x"></div>
            <div *ngIf="isLoading && !challengeID" class="loader_wrap">
              <div class="loader"></div>
            </div>
            <div *ngIf="!challengeID && !isLoading">
              <input id="countryCode" name="countryCode" type="text" [(ngModel)]="countryCode" [maxlength]="2" #countryInput="ngModel"
                [placeholder]="'MODALS.LOGIN_SMARTID_PLACEHOLDER_COUNTRY_CODE' | translate"
                [ngClass]="{'error_input': countryInput.errors && countryInput.errors['pattern'] && countryInput.touched}"
                pattern="^[A-Z]{2}$" required>
              <label for="pid" class="error_label"
                *ngIf="countryInput.errors && countryInput.errors['pattern'] && countryInput.touched">
                <div class="table_cell">
                  <div class="sprite sprite-icon-inputfield-error2x"></div>
                  <span translate="MODALS.LOGIN_SMARTID_ERROR_COUNTRY_CODE"></span>
                </div>
              </label>
              <input id="pid" name="pid" type="text" inputmode="numeric" [(ngModel)]="pid" #pidInput="ngModel"
                [placeholder]="'MODALS.LOGIN_SMARTID_PLACEHOLDER_PID' | translate" ngModel
                [ngClass]="{'error_input': pidInput.errors && pidInput.errors['pattern'] &&pidInput.touched}" pattern="^[0-9]{11}$" required>
              <label for="pid" class="error_label" *ngIf="pidInput.errors && pidInput.errors['pattern'] && pidInput.touched">
                <div class="table_cell">
                  <div class="sprite sprite-icon-inputfield-error2x"></div>
                  <span translate="MODALS.LOGIN_SMARTID_ERROR_PID"></span>
                </div>
              </label>
            </div>

            <div *ngIf="challengeID">
              <div class="code" translate="MODALS.LOGIN_SMARTID_TXT_CONTROL_CODE"
                [translateParams]="{code: challengeID}"></div>
              <div class="code_text" translate="MODALS.LOGIN_SMARTID_TXT_CHECK_CONTROL_CODE"></div>
              <div class="loader_wrap">
                <div class="loader"></div>
              </div>
            </div>
            <button type="submit" (click)="authSmartId()" [disabled]="isLoading"
              class="blue_button" translate="MODALS.LOGIN_SMARTID_BTN_AUTHENTICATE_SID"></button>
          </div>
        </form>
      </div>

    </div>
  </div>

  <div id="close_lightbox" mat-dialog-close>
  </div>

</div>
