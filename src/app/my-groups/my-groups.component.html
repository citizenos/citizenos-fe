<div class="page_content">
  <div id="page_header">
    <div id="user_info_area">
      <h3 [innerHTML]="'VIEWS.MY_GROUPS.HEADER'| translate"></h3>
    </div>
    <div id="buttons_area">
      <button id="show_search icon" class="btn_medium_close" (click)="app.showSearch = !app.showSearch">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M14.1922 15.6064C13.0236 16.4816 11.5723 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 11.5723 16.4816 13.0236 15.6064 14.1922L19.7071 18.2929C20.0976 18.6834 20.0976 19.3166 19.7071 19.7071C19.3166 20.0976 18.6834 20.0976 18.2929 19.7071L14.1922 15.6064ZM15 10C15 12.7614 12.7614 15 10 15C7.23858 15 5 12.7614 5 10C5 7.23858 7.23858 5 10 5C12.7614 5 15 7.23858 15 10Z"
            fill="#727C84" />
        </svg>
      </button>

      <activities-button></activities-button>
    </div>
  </div>
  <div id="page_filters_wrap">
    <div id="options_area" [@openClose]="moreFilters ? 'open' : 'closed'">
      <div class="options_row">
        <cos-input [placeholder]="'VIEWS.MY_GROUPS.FILTER_VISIBILITY' | translate" class="dropdown_input">
          <div class="dropdown" [cosDropdown]>
            <div class="selection">
              <div class="selected_item">{{(GroupService.params$ | async)?.visibility || 'All'}}</div>
              <div class="icon_arrow_down_black"></div>
            </div>
            <div class="options">
              <div class="option" *ngFor="let item of visibility" [routerLink]="['./']"
                [queryParams]="{visibility: item}">
                {{item}}
              </div>
              <div class="option" [routerLink]="['./']" [queryParams]="{pinned: 'true'}">
                Pinned
              </div>
              <div class="option" [routerLink]="['./']" [queryParams]="{moderated: 'true'}">
                Moderated
              </div>
            </div>
          </div>
        </cos-input>
        <cos-input [placeholder]="'VIEWS.MY_GROUPS.FILTER_MY_ENGAGEMENT' | translate" class="dropdown_input">
          <div class="dropdown" [cosDropdown]>
            <div class="selection">
              <div class="selected_item">All</div>
              <div class="icon_arrow_down_black"></div>
            </div>
            <div class="options">
              <div class="option">My most recent activity</div>
              <div class="option">Groups I created</div>
              <div class="option">Groups with pending requests</div>
            </div>
          </div>
        </cos-input>
        <cos-input [placeholder]="'VIEWS.MY_GROUPS.FILTER_CATEGORIES' | translate" class="dropdown_input">
          <div class="dropdown" [cosDropdown]>
            <div class="selection">
              <div class="selected_item">All</div>
              <div class="icon_arrow_down_black"></div>
            </div>
            <div class="options">
              <div class="option" *ngFor="let item of categories">
                {{item}}
              </div>
            </div>
          </div>
        </cos-input>
        <cos-input [placeholder]="'VIEWS.MY_GROUPS.FILTER_ORDER' | translate" class="dropdown_input">
          <div class="dropdown" [cosDropdown]>
            <div class="selection">
              <div class="selected_item">All</div>
              <div class="icon_arrow_down_black"></div>
            </div>
            <div class="options">
              <div class="option">Most recent participant activity</div>
              <div class="option">Most activity</div>
              <div class="option">Most participants</div>
              <div class="option">Most recently created</div>
              <div class="option">Most topics</div>
            </div>
          </div>
        </cos-input>
      </div>
      <div class="options_row" *ngIf="moreFilters">
        <cos-input [placeholder]="'VIEWS.MY_GROUPS.FILTER_COUNTRY' | translate" class="dropdown_input">
          <div class="dropdown" [cosDropdown]>
            <div class="selection">
              <div class="selected_item">All</div>
              <div class="icon_arrow_down_black"></div>
            </div>
            <div class="options">
              <div class="option" *ngFor="let item of visibility">
                {{item}}
              </div>
            </div>
          </div>
        </cos-input>
        <cos-input [placeholder]="'VIEWS.MY_GROUPS.FILTER_LANGUAGE' | translate" class="dropdown_input">
          <div class="dropdown" [cosDropdown]>
            <div class="selection">
              <div class="selected_item">All</div>
              <div class="icon_arrow_down_black"></div>
            </div>
            <div class="options">
              <div class="option" *ngFor="let item of visibility">
                {{item}}
              </div>
            </div>
          </div>
        </cos-input>
        <div class="input_area">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M14.1922 15.6064C13.0236 16.4816 11.5723 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 11.5723 16.4816 13.0236 15.6064 14.1922L19.7071 18.2929C20.0976 18.6834 20.0976 19.3166 19.7071 19.7071C19.3166 20.0976 18.6834 20.0976 18.2929 19.7071L14.1922 15.6064ZM15 10C15 12.7614 12.7614 15 10 15C7.23858 15 5 12.7614 5 10C5 7.23858 7.23858 5 10 5C12.7614 5 15 7.23858 15 10Z"
              fill="#727C84" />
          </svg>
          <cos-input placeholder="{{'LAYOUTS.MAIN.PLACEHOLDER_SEARCH_TOPICS_USERS_GROUPS' | translate}}">
            <input type="text" [(ngModel)]="searchInput" (ngModelChange)="doSearch(searchInput)">
          </cos-input>
          <a class="clear_search" translate="COMPONENTS.SEARCH.LNK_CLEAR" (click)="searchInput='';doSearch('')"
            *ngIf="searchInput"></a>
        </div>
      </div>
    </div>
    <div>
      <button class="btn_big_secondary"  [ngClass]="moreFilters? 'flip' : ''" (click)="moreFilters = !moreFilters">
        <div class="btn_icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <path d="M17 10L12 15L7 10" stroke="#2C3B47" stroke-width="2" stroke-linecap="round" />
          </svg>
        </div>
      </button>
    </div>
  </div>
  <div class="groups_content">
    <ng-container *ngIf="groups$ | async as groups;">
      <group-box [group]="group" *ngFor="let group of groups">
      </group-box>
    </ng-container>
  </div>
</div>
