<div class="overlay" dialog-close></div>
<div class="dialog_wrap">
  <div class="dialog" *ngIf="user$ | async as user">
    <div class="dialog_header voting">
      <div class="header_text">
        <div class="small_heading" translate="COMPONENTS.TOPIC_VOTE_REMINDER.DIALOG_HEADING"></div>
        <div class="dialog_close">
          <a class="btn_dialog_close icon" dialog-close>
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M7.72152 6.29537C7.3277 5.90154 6.68919 5.90154 6.29537 6.29537C5.90154 6.68919 5.90154 7.3277 6.29537 7.72153L10.5738 12L6.29541 16.2785C5.90159 16.6723 5.90159 17.3108 6.29541 17.7046C6.68923 18.0985 7.32774 18.0985 7.72156 17.7046L12 13.4262L16.2784 17.7046C16.6723 18.0985 17.3108 18.0985 17.7046 17.7046C18.0984 17.3108 18.0984 16.6723 17.7046 16.2785L13.4262 12L17.7046 7.72153C18.0985 7.3277 18.0985 6.68919 17.7046 6.29537C17.3108 5.90154 16.6723 5.90154 16.2785 6.29537L12 10.5739L7.72152 6.29537Z"
                fill="#2C3B47" />
            </svg>
          </a>
        </div>
      </div>
    </div>

    <div class="dialog_content no_footer">
      <div class="text_wrap">
        <div class="content_description" translate="COMPONENTS.TOPIC_VOTE_REMINDER.DIALOG_DESCRIPTION"></div>
        <div class="line_separator"></div>
        <div translate="COMPONENTS.TOPIC_VOTE_REMINDER.REMINDER_PREVIEW_DESC"></div>
      </div>
      <div class="email_preview_wrap">
        <div class="email_preview">
          <div class="email_header">
            <div class="email_title_desc" translate="COMPONENTS.TOPIC_VOTE_REMINDER.PREVIEW_EMAIL_HEADING"></div>
            <div class="email_title" [innerHTML]="topic.title"></div>
          </div>
          <div class="email_body">
            <div class="text_area">
              <span translate="COMPONENTS.TOPIC_VOTE_REMINDER.PREVIEW_EMAIL_GREETING"
                [translateParams]="{userName: user.name}"></span>
              <div><span [translate]="(vote.endsAt)?'COMPONENTS.TOPIC_VOTE_REMINDER.PREVIEW_EMAIL_TEXT_WARN' : 'COMPONENTS.TOPIC_VOTE_REMINDER.PREVIEW_EMAIL_TEXT_PLEASE_VOTE' "></span><span> </span><b
                  *ngIf="vote.endsAt" translate="COMPONENTS.TOPIC_VOTE_REMINDER.PREVIEW_EMAIL_TEXT_DAYS_LEFT"
                  [translateParams]="{daysLeft: (vote.endsAt | amDifference:today:'days')}"></b></div>
            </div>
            <div class="vote_info_wrap">
              <div class="vote_icon">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M16 0C7.168 0 0 7.168 0 16C0 24.832 7.168 32 16 32C24.832 32 32 24.832 32 16C32 7.168 24.832 0 16 0ZM12.8889 24L25.3333 11.6491L23 9.33333L12.8889 19.3684L9 15.5088L6.66667 17.8246L12.8889 24Z"
                    fill="#5AB467" />
                </svg>
              </div>
              <div class="vote_info_text">
                <div class="info_row"><b translate="COMPONENTS.TOPIC_VOTE_REMINDER.PREVIEW_EMAIL_VOTE_VOTES_COLLECTED"></b> <b>{{vote.votersCount || 0}}</b></div>
                <span *ngIf="vote.endsAt" translate="COMPONENTS.TOPIC_VOTE_REMINDER.PREVIEW_EMAIL_VOTE_DEADLINE"
                  [translateParams]="{deadline: (vote.endsAt | date: 'YYYY-MM-dd HH:mm')}"></span>
              </div>
            </div>
            <div class="button_wrap">
              <div class="btn_medium_submit" translate="COMPONENTS.TOPIC_VOTE_REMINDER.PREVIEW_EMAIL_BTN_CAST_VOTE">
              </div>
            </div>
            <div class="notification_inline warning">
              <div class="icon_notification">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <rect width="24" height="24" rx="12" fill="#F39129" />
                  <path
                    d="M11.4385 4.7998C11.0924 4.7998 10.8181 5.09181 10.8396 5.43723L11.3646 13.8372C11.3844 14.1535 11.6466 14.3998 11.9635 14.3998H12.0361C12.353 14.3998 12.6152 14.1535 12.635 13.8372L13.16 5.43723C13.1816 5.09181 12.9072 4.7998 12.5611 4.7998H11.4385Z"
                    fill="white" />
                  <path
                    d="M11.9998 18.5998C12.6625 18.5998 13.1998 18.0625 13.1998 17.3998C13.1998 16.7371 12.6625 16.1998 11.9998 16.1998C11.3371 16.1998 10.7998 16.7371 10.7998 17.3998C10.7998 18.0625 11.3371 18.5998 11.9998 18.5998Z"
                    fill="white" />
                </svg>
              </div>
              <div class="message" [innerHTML]="'COMPONENTS.TOPIC_VOTE_REMINDER.PREVIEW_EMAIL_ATTENTION' | translate:{email: user.email}"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="button_wrap">
        <button class="btn_medium_secondary" [dialog-close]="true"
          translate="COMPONENTS.TOPIC_VOTE_REMINDER.BTN_SEND_REMINDER"></button>

        <a dialog-close translate="COMPONENTS.TOPIC_VOTE_REMINDER.LNK_CANCEL"></a>
      </div>
    </div>

  </div>
</div>
